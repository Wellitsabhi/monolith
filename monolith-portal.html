<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monolith Portal - Complete Experience</title>
<style>
* { 
  margin: 0; 
  padding: 0; 
  box-sizing: border-box; 
}

body { 
  font-family: 'Courier New', monospace; 
  background: #000; 
  color: #fff; 
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

#root { 
  width: 100vw; 
  min-height: 100vh; 
}

::-webkit-scrollbar { 
  width: 8px; 
}

::-webkit-scrollbar-track { 
  background: #001a0f; 
}

::-webkit-scrollbar-thumb { 
  background: linear-gradient(to bottom, #00ff88, #00cc66);
  border-radius: 4px;
}

/* About page container - initially hidden */
.about-page-2d {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  min-height: 100vh;
  opacity: 0;
  pointer-events: none;
  z-index: 100;
  background: linear-gradient(135deg, #001a0f 0%, #000814 50%, #000 100%);
  overflow-y: auto;
  transition: opacity 1.5s ease-in-out;
}

.about-page-2d.visible {
  opacity: 1;
  pointer-events: auto;
}

/* Animated background grid */
.grid-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    linear-gradient(rgba(0, 255, 136, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 255, 136, 0.03) 1px, transparent 1px);
  background-size: 50px 50px;
  opacity: 0.3;
  animation: gridMove 20s linear infinite;
  pointer-events: none;
}

@keyframes gridMove {
  0% { transform: translateY(0); }
  100% { transform: translateY(50px); }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulseIndicator {
  0%, 100% { 
    opacity: 0.4; 
    transform: translateY(0); 
  }
  50% { 
    opacity: 1; 
    transform: translateY(-6px); 
  }
}
</style>
</head>
<body>
<div id="root"></div>

<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://unpkg.com/@babel/standalone@7.23.5/babel.min.js"></script>

<script type="text/babel">
const { useState, useEffect, useRef } = React;

// ============================================
// 2D ABOUT PAGE COMPONENT - Normal scrollable webpage
// ============================================
const AboutPage2D = ({ visible }) => {
  return (
    <div className={`about-page-2d ${visible ? 'visible' : ''}`}>
      <div className="grid-bg" />
      
      <div style={{
        maxWidth: '900px',
        margin: '0 auto',
        padding: '80px 20px',
        position: 'relative',
        zIndex: 1
      }}>
        {/* Main heading */}
        <h1 style={{
          fontSize: 'clamp(32px, 4vw, 56px)',
          marginBottom: '20px',
          color: '#00ff88',
          textShadow: '0 0 30px rgba(0, 255, 136, 0.5)',
          letterSpacing: '3px',
          fontWeight: 'bold',
          animation: 'fadeInUp 1s ease-out'
        }}>
          ABOUT THE MONOLITH
        </h1>

        {/* Subtitle */}
        <div style={{
          fontSize: 'clamp(14px, 1.2vw, 16px)',
          color: '#00ff88',
          marginBottom: '40px',
          opacity: 0.7,
          letterSpacing: '2px',
          animation: 'fadeInUp 1s ease-out 0.2s backwards'
        }}>
          Beyond the Portal • Another Dimension
        </div>
        
        {/* Content paragraphs */}
        <div style={{ animation: 'fadeInUp 1s ease-out 0.4s backwards' }}>
          <p style={{ marginBottom: '24px', color: '#ccc', lineHeight: 1.8, fontSize: 'clamp(14px, 1.5vw, 18px)' }}>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor 
            incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud 
            exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
          </p>
          
          <p style={{ marginBottom: '24px', color: '#ccc', lineHeight: 1.8, fontSize: 'clamp(14px, 1.5vw, 18px)' }}>
            Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu 
            fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in 
            culpa qui officia deserunt mollit anim id est laborum.
          </p>
          
          <p style={{ marginBottom: '24px', color: '#ccc', lineHeight: 1.8, fontSize: 'clamp(14px, 1.5vw, 18px)' }}>
            Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque 
            laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi 
            architecto beatae vitae dicta sunt explicabo.
          </p>
          
          <p style={{ marginBottom: '24px', color: '#ccc', lineHeight: 1.8, fontSize: 'clamp(14px, 1.5vw, 18px)' }}>
            Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia 
            consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro 
            quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit.
          </p>
        </div>

        {/* Feature boxes */}
        <div style={{
          display: 'grid',
          gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
          gap: '20px',
          marginTop: '40px',
          animation: 'fadeInUp 1s ease-out 0.6s backwards'
        }}>
          <div style={{
            padding: '25px',
            background: 'rgba(0, 255, 136, 0.05)',
            border: '1px solid rgba(0, 255, 136, 0.3)',
            borderRadius: '8px',
            transition: 'all 0.3s ease',
            cursor: 'pointer'
          }}
          onMouseEnter={(e) => {
            e.currentTarget.style.background = 'rgba(0, 255, 136, 0.1)';
            e.currentTarget.style.transform = 'translateY(-5px)';
            e.currentTarget.style.boxShadow = '0 10px 30px rgba(0, 255, 136, 0.2)';
          }}
          onMouseLeave={(e) => {
            e.currentTarget.style.background = 'rgba(0, 255, 136, 0.05)';
            e.currentTarget.style.transform = 'translateY(0)';
            e.currentTarget.style.boxShadow = 'none';
          }}
          >
            <h3 style={{
              fontSize: 'clamp(18px, 2vw, 24px)',
              marginBottom: '15px',
              color: '#00ff88'
            }}>
              Dimension Alpha
            </h3>
            <p style={{ color: '#aaa', fontSize: '14px', lineHeight: 1.6 }}>
              The first realm beyond the portal. A place where reality bends to the will 
              of consciousness and time flows differently.
            </p>
          </div>

          <div style={{
            padding: '25px',
            background: 'rgba(0, 255, 136, 0.05)',
            border: '1px solid rgba(0, 255, 136, 0.3)',
            borderRadius: '8px',
            transition: 'all 0.3s ease',
            cursor: 'pointer'
          }}
          onMouseEnter={(e) => {
            e.currentTarget.style.background = 'rgba(0, 255, 136, 0.1)';
            e.currentTarget.style.transform = 'translateY(-5px)';
            e.currentTarget.style.boxShadow = '0 10px 30px rgba(0, 255, 136, 0.2)';
          }}
          onMouseLeave={(e) => {
            e.currentTarget.style.background = 'rgba(0, 255, 136, 0.05)';
            e.currentTarget.style.transform = 'translateY(0)';
            e.currentTarget.style.boxShadow = 'none';
          }}
          >
            <h3 style={{
              fontSize: 'clamp(18px, 2vw, 24px)',
              marginBottom: '15px',
              color: '#00ff88'
            }}>
              Quantum Matrix
            </h3>
            <p style={{ color: '#aaa', fontSize: '14px', lineHeight: 1.6 }}>
              The underlying structure that connects all dimensions. Navigate through 
              infinite possibilities and parallel realities.
            </p>
          </div>
        </div>

        {/* Welcome box */}
        <div style={{
          marginTop: '60px',
          padding: '30px',
          background: 'linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(0, 255, 136, 0.05) 100%)',
          border: '2px solid rgba(0, 255, 136, 0.4)',
          borderRadius: '12px',
          position: 'relative',
          overflow: 'hidden',
          animation: 'fadeInUp 1s ease-out 0.8s backwards'
        }}>
          <div style={{
            position: 'absolute',
            top: 0,
            right: 0,
            width: '100px',
            height: '100px',
            background: 'radial-gradient(circle at top right, rgba(0, 255, 136, 0.2), transparent)',
            pointerEvents: 'none'
          }} />

          <h2 style={{
            fontSize: 'clamp(24px, 3vw, 36px)',
            marginBottom: '20px',
            color: '#00ff88',
            textShadow: '0 0 20px rgba(0, 255, 136, 0.3)'
          }}>
            Welcome to the Other Side
          </h2>
          <p style={{ color: '#bbb', lineHeight: 1.8, fontSize: 'clamp(14px, 1.3vw, 16px)' }}>
            You have successfully traversed through the dimensional portal. This is your 
            destination - a new realm of possibilities. The journey through space and time 
            has brought you here. What you do next is entirely up to your imagination.
          </p>

          <div style={{
            marginTop: '20px',
            display: 'flex',
            gap: '10px',
            alignItems: 'center'
          }}>
            <div style={{
              width: '40px',
              height: '2px',
              background: 'linear-gradient(to right, #00ff88, transparent)'
            }} />
            <span style={{
              color: '#00ff88',
              fontSize: '12px',
              letterSpacing: '2px',
              opacity: 0.7
            }}>
              TRANSMISSION COMPLETE
            </span>
            <div style={{
              flex: 1,
              height: '2px',
              background: 'linear-gradient(to right, #00ff88, transparent)'
            }} />
          </div>
        </div>

        {/* Additional scrollable content */}
        <div style={{ marginTop: '60px', animation: 'fadeInUp 1s ease-out 1s backwards' }}>
          <h2 style={{
            fontSize: 'clamp(28px, 3.5vw, 42px)',
            marginBottom: '30px',
            color: '#00ff88',
            borderBottom: '2px solid rgba(0, 255, 136, 0.3)',
            paddingBottom: '15px'
          }}>
            Explore Further
          </h2>
          
          <p style={{ marginBottom: '24px', color: '#ccc', lineHeight: 1.8, fontSize: 'clamp(14px, 1.5vw, 18px)' }}>
            Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Duis mollis, 
            est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. 
            Cras mattis consectetur purus sit amet fermentum.
          </p>
          
          <p style={{ marginBottom: '24px', color: '#ccc', lineHeight: 1.8, fontSize: 'clamp(14px, 1.5vw, 18px)' }}>
            Donec sed odio dui. Etiam porta sem malesuada magna mollis euismod. Nullam quis 
            risus eget urna mollis ornare vel eu leo. Morbi leo risus, porta ac consectetur ac, 
            vestibulum at eros.
          </p>
          
          <p style={{ marginBottom: '24px', color: '#ccc', lineHeight: 1.8, fontSize: 'clamp(14px, 1.5vw, 18px)' }}>
            Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Cum sociis 
            natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.
          </p>
        </div>

        {/* Footer info */}
        <div style={{
          marginTop: '80px',
          paddingTop: '30px',
          borderTop: '1px solid rgba(0, 255, 136, 0.2)',
          display: 'flex',
          justifyContent: 'space-between',
          flexWrap: 'wrap',
          gap: '20px',
          fontSize: '14px',
          color: '#666',
          animation: 'fadeInUp 1s ease-out 1.2s backwards',
          marginBottom: '40px'
        }}>
          <div>
            <span style={{ color: '#00ff88' }}>Coordinates:</span> Unknown
          </div>
          <div>
            <span style={{ color: '#00ff88' }}>Status:</span> Stable
          </div>
          <div>
            <span style={{ color: '#00ff88' }}>Energy Level:</span> Optimal
          </div>
        </div>
      </div>
    </div>
  );
};

// ============================================
// MAIN PORTAL COMPONENT
// ============================================
const MonolithPortal = () => {
  const containerRef = useRef(null);
  const canvasRef = useRef(null);
  const textBottomLeftRef = useRef(null);
  const textBottomCenterRef = useRef(null);
  const line1Ref = useRef(null);
  const line2Ref = useRef(null);
  const bgImageRef = useRef(null);
  
  const [scrollProgress, setScrollProgress] = useState(0);
  const [show2DAbout, setShow2DAbout] = useState(false);

  useEffect(() => {
    // ============================================
    // THREE.JS SCENE SETUP
    // ============================================
    const canvas = canvasRef.current;
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(
      80, 
      window.innerWidth / window.innerHeight, 
      1, 
      10000
    );
    
    const renderer = new THREE.WebGLRenderer({ 
      canvas, 
      alpha: true,
      antialias: true,
      powerPreference: "high-performance"
    });
    
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5));
    camera.position.z = 1000;
    scene.add(camera);

    // ============================================
    // LIGHTING
    // ============================================
    const sceneLight = new THREE.DirectionalLight(0xffffff, 0.5);
    sceneLight.position.set(0, 0, 1);
    scene.add(sceneLight);

    const portalLight = new THREE.PointLight(0x00ff88, 30, 600, 1.7);
    portalLight.position.set(0, 0, 250);
    scene.add(portalLight);

    const backLight = new THREE.PointLight(0x00ff88, 10, 2000);
    backLight.position.set(0, 0, -800);
    scene.add(backLight);

    // ============================================
    // CREATE ABOUT PAGE AS 3D TEXTURE
    // ============================================
    const createAboutTexture = () => {
      const canvas = document.createElement('canvas');
      canvas.width = 1024;
      canvas.height = 1400;
      const ctx = canvas.getContext('2d');
      
      const gradient = ctx.createLinearGradient(0, 0, 0, 1400);
      gradient.addColorStop(0, '#001a0f');
      gradient.addColorStop(0.5, '#000814');
      gradient.addColorStop(1, '#000000');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, 1024, 1400);
      
      ctx.shadowBlur = 30;
      ctx.shadowColor = 'rgba(0, 255, 136, 0.5)';
      ctx.fillStyle = '#00ff88';
      ctx.font = 'bold 48px Courier New';
      ctx.fillText('ABOUT THE MONOLITH', 60, 100);
      
      ctx.shadowBlur = 0;
      ctx.font = '14px Courier New';
      ctx.fillStyle = 'rgba(0, 255, 136, 0.7)';
      ctx.fillText('Beyond the Portal • Another Dimension', 60, 140);
      
      ctx.fillStyle = '#cccccc';
      ctx.font = '16px Courier New';
      const lines = [
        'Lorem ipsum dolor sit amet, consectetur',
        'adipiscing elit. Sed do eiusmod tempor',
        'incididunt ut labore et dolore magna aliqua.',
        '',
        'Ut enim ad minim veniam, quis nostrud',
        'exercitation ullamco laboris nisi ut',
        'aliquip ex ea commodo consequat.'
      ];
      
      lines.forEach((line, i) => {
        ctx.fillText(line, 60, 200 + i * 30);
      });
      
      ctx.strokeStyle = 'rgba(0, 255, 136, 0.4)';
      ctx.lineWidth = 2;
      ctx.strokeRect(60, 450, 904, 150);
      ctx.fillStyle = 'rgba(0, 255, 136, 0.1)';
      ctx.fillRect(60, 450, 904, 150);
      
      ctx.fillStyle = '#00ff88';
      ctx.font = 'bold 32px Courier New';
      ctx.fillText('Welcome to the Other Side', 85, 500);
      
      ctx.fillStyle = '#bbbbbb';
      ctx.font = '15px Courier New';
      ctx.fillText('You have traversed the dimensional portal.', 85, 540);
      ctx.fillText('Welcome to the new realm of possibilities.', 85, 570);
      
      return new THREE.CanvasTexture(canvas);
    };

    const aboutTexture = createAboutTexture();
    const aboutGeometry = new THREE.PlaneBufferGeometry(1800, 2400);
    const aboutMaterial = new THREE.MeshStandardMaterial({
      map: aboutTexture,
      transparent: true,
      opacity: 0,
      emissive: 0x002211,
      emissiveIntensity: 0.2
    });
    
    const aboutMesh = new THREE.Mesh(aboutGeometry, aboutMaterial);
    aboutMesh.position.z = -2500;
    scene.add(aboutMesh);

    // ============================================
    // THANOS PORTAL - GREEN THEMED
    // ============================================
    const portalParticles = [];
    const smokeParticles = [];

    const createSmokeTexture = () => {
      const canvas = document.createElement('canvas');
      canvas.width = 256;
      canvas.height = 256;
      const ctx = canvas.getContext('2d');
      
      const gradient = ctx.createRadialGradient(128, 128, 0, 128, 128, 128);
      gradient.addColorStop(0, 'rgba(255, 255, 255, 0.8)');
      gradient.addColorStop(0.5, 'rgba(200, 200, 200, 0.4)');
      gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
      
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, 256, 256);
      
      return new THREE.CanvasTexture(canvas);
    };

    const smokeTexture = createSmokeTexture();
    const portalGeo = new THREE.PlaneBufferGeometry(350, 350);
    const portalMaterial = new THREE.MeshStandardMaterial({
      map: smokeTexture,
      transparent: true,
      opacity: 0
    });

    for (let p = 880; p > 250; p -= 2) {
      const particle = new THREE.Mesh(portalGeo, portalMaterial);
      particle.position.set(
        0.5 * p * Math.cos((4 * p * Math.PI) / 180),
        0.5 * p * Math.sin((4 * p * Math.PI) / 180),
        0.1 * p
      );
      particle.rotation.z = Math.random() * 360;
      portalParticles.push(particle);
      scene.add(particle);
    }

    const smokeGeo = new THREE.PlaneBufferGeometry(1000, 1000);
    const smokeMaterial = new THREE.MeshStandardMaterial({
      map: smokeTexture,
      transparent: true,
      opacity: 0.4
    });

    for (let p = 0; p < 20; p++) {
      const particle = new THREE.Mesh(smokeGeo, smokeMaterial);
      particle.position.set(
        Math.random() * 1000 - 500,
        Math.random() * 400 - 200,
        25
      );
      particle.rotation.z = Math.random() * 360;
      smokeParticles.push(particle);
      scene.add(particle);
    }

    // ============================================
    // WAVE TRANSITION
    // ============================================
    const waveGeometry = new THREE.PlaneBufferGeometry(3000, 3000, 60, 60);
    const waveMaterial = new THREE.ShaderMaterial({
      transparent: true,
      side: THREE.DoubleSide,
      uniforms: {
        time: { value: 0 },
        progress: { value: 0 },
        opacity: { value: 0 }
      },
      vertexShader: `
        uniform float time;
        uniform float progress;
        varying vec2 vUv;
        varying float vWave;
        varying float vDist;
        
        void main() {
          vUv = uv;
          vec3 pos = position;
          
          float dist = length(uv - vec2(0.5));
          vDist = dist;
          
          float wave = sin(dist * 15.0 - time * 4.0) * 0.5;
          wave += sin(dist * 25.0 - time * 6.0) * 0.3;
          wave += cos(uv.x * 20.0 - time * 3.0) * 0.2;
          
          float tunnel = progress * 2.0;
          pos.z += wave * 150.0 * tunnel;
          pos.z -= dist * 1500.0 * tunnel;
          pos.x *= 1.0 - tunnel * 0.3;
          pos.y *= 1.0 - tunnel * 0.3;
          
          vWave = wave;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
        }
      `,
      fragmentShader: `
        uniform float opacity;
        uniform float progress;
        varying vec2 vUv;
        varying float vWave;
        varying float vDist;
        
        void main() {
          float dist = vDist;
          
          vec3 color1 = vec3(0.0, 1.0, 0.7);
          vec3 color2 = vec3(0.0, 0.3, 0.2);
          vec3 color3 = vec3(0.1, 0.8, 0.5);
          
          vec3 color = mix(color2, color1, dist);
          color = mix(color, color3, abs(vWave));
          
          float alpha = smoothstep(0.9, 0.3, dist) * opacity;
          alpha *= smoothstep(0.0, 0.2, dist);
          
          gl_FragColor = vec4(color, alpha);
        }
      `
    });
    
    const waveMesh = new THREE.Mesh(waveGeometry, waveMaterial);
    waveMesh.position.z = -200;
    scene.add(waveMesh);

    // ============================================
    // ANIMATION LOOP
    // ============================================
    const clock = new THREE.Clock();
    let time = 0;
    
    const animate = () => {
      requestAnimationFrame(animate);
      const delta = clock.getDelta();
      time += delta;

      portalParticles.forEach(p => {
        p.rotation.z -= delta * 1.5;
      });

      smokeParticles.forEach(p => {
        p.rotation.z -= delta * 0.2;
      });

      if (Math.random() > 0.9) {
        portalLight.power = 350 + Math.random() * 500;
      }

      waveMaterial.uniforms.time.value = time;
      aboutMesh.rotation.z = Math.sin(time * 0.3) * 0.02;

      renderer.render(scene, camera);
    };
    animate();

    // ============================================
    // GSAP SCROLL TIMELINE
    // ============================================
    gsap.registerPlugin(ScrollTrigger);

    const timeline = gsap.timeline({
      scrollTrigger: {
        trigger: containerRef.current,
        start: 'top top',
        end: '+=900%',
        scrub: 2,
        pin: true,
        anticipatePin: 1,
        onUpdate: (self) => {
          setScrollProgress(self.progress);
          
          // Trigger 2D About page transition at 95%
          if (self.progress > 0.95) {
            setShow2DAbout(true);
          }
        }
      }
    });

    timeline
      // PHASE 1: Parallax (0-18%)
      .to(bgImageRef.current, {
        scale: 1.2,
        duration: 2,
        ease: 'power1.out'
      })
      
      // PHASE 2: Zoom to person (18-40%)
      .to(bgImageRef.current, {
        scale: 5,
        y: '-58%',
        duration: 3.5,
        ease: 'power2.inOut'
      }, '+=0.5')
      
      .to(textBottomLeftRef.current, {
        x: '50vw',
        y: '-15vh',
        duration: 3.5,
        ease: 'power2.inOut'
      }, '<')
      
      .to(textBottomCenterRef.current, {
        x: '-40vw',
        y: '8vh',
        duration: 3.5,
        ease: 'power2.inOut'
      }, '<')
      
      .to([line1Ref.current, line2Ref.current], {
        scaleX: 0,
        opacity: 0,
        duration: 2.5,
        ease: 'power2.in'
      }, '<0.5')
      
      // PHASE 3: Extreme zoom + portal (40-55%)
      .to(bgImageRef.current, {
        scale: 12,
        y: '-68%',
        duration: 4,
        ease: 'power2.inOut'
      }, '+=0.3')
      
      .to([textBottomLeftRef.current, textBottomCenterRef.current], {
        opacity: 0,
        duration: 2,
        ease: 'power2.in'
      }, '<')
      
      .to(portalParticles.map(p => p.material), {
        opacity: 0.8,
        duration: 3,
        ease: 'power2.out'
      }, '-=2')
      
      .to(camera.position, {
        z: 800,
        duration: 3,
        ease: 'power2.inOut'
      }, '<')
      
      // PHASE 4: Portal grows, About visible (55-70%)
      .to(camera.position, {
        z: 600,
        duration: 3,
        ease: 'power2.in'
      })
      
      .to(aboutMaterial, {
        opacity: 0.6,
        duration: 2,
        ease: 'power2.out'
      }, '<')
      
      // PHASE 5: Wave transition - fly through (70-88%)
      .to(waveMaterial.uniforms.opacity, {
        value: 1,
        duration: 1.5,
        ease: 'power2.out'
      })
      
      .to(waveMaterial.uniforms.progress, {
        value: 1,
        duration: 4,
        ease: 'power2.inOut'
      }, '<')
      
      .to(camera.position, {
        z: 100,
        duration: 4,
        ease: 'power2.inOut'
      }, '<')
      
      .to(aboutMaterial, {
        opacity: 1,
        duration: 3,
        ease: 'power2.out'
      }, '<1')
      
      // Portal disappears
      .to(portalParticles.map(p => p.material), {
        opacity: 0,
        duration: 2.5,
        ease: 'power2.in'
      }, '<1.5')
      
      .to(bgImageRef.current, {
        opacity: 0,
        duration: 2,
        ease: 'power2.in'
      }, '<')
      
      // PHASE 6: Approach About, keep distance (88-95%)
      .to(camera.position, {
        z: -1000,
        duration: 3,
        ease: 'power1.inOut'
      })
      
      .to(aboutMesh.position, {
        z: -1500,
        duration: 3,
        ease: 'power1.inOut'
      }, '<')
      
      // Wave fades
      .to(waveMaterial.uniforms.opacity, {
        value: 0,
        duration: 2,
        ease: 'power2.in'
      }, '<1')
      
      // PHASE 7: Final fade to 2D (95-100%)
      // 3D scene fades out as 2D page fades in
      .to(aboutMaterial, {
        opacity: 0,
        duration: 2,
        ease: 'power2.in'
      })
      
      .to(canvas, {
        opacity: 0,
        duration: 2,
        ease: 'power2.in'
      }, '<');

    // ============================================
    // RESIZE
    // ============================================
    const handleResize = () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    };
    window.addEventListener('resize', handleResize);

    return () => {
      window.removeEventListener('resize', handleResize);
      ScrollTrigger.getAll().forEach(t => t.kill());
      renderer.dispose();
    };
  }, []);

  return (
    <>
      <div 
        ref={containerRef} 
        style={{ 
          height: '100vh', 
          width: '100vw',
          position: 'relative', 
          overflow: 'hidden',
          backgroundColor: '#000'
        }}
      >
        <div 
          ref={bgImageRef}
          style={{
            position: 'absolute',
            top: 0,
            left: 0,
            width: '100%',
            height: '100%',
            transformOrigin: 'center 75%',
            willChange: 'transform'
          }}
        >
          <img 
            src="monolith.jpg"
            alt="Monolith"
            style={{
              width: '100%',
              height: '100%',
              objectFit: 'cover',
              objectPosition: 'center 75%'
            }}
          />
        </div>

        <div
          ref={textBottomLeftRef}
          style={{
            position: 'absolute',
            bottom: '15%',
            left: '8%',
            color: '#ffffff',
            fontSize: 'clamp(12px, 1.5vw, 18px)',
            fontFamily: "'Courier New', monospace",
            textShadow: '0 0 20px rgba(0, 255, 136, 0.6)',
            maxWidth: '350px',
            lineHeight: 1.6,
            zIndex: 10,
            letterSpacing: '0.5px',
            willChange: 'transform, opacity'
          }}
        >
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore.
        </div>

        <div style={{ 
          position: 'absolute', 
          bottom: '10%', 
          left: 0, 
          right: 0, 
          zIndex: 10 
        }}>
          <div
            ref={line1Ref}
            style={{
              position: 'absolute',
              left: '8%',
              top: '50%',
              width: '38%',
              height: '2px',
              background: 'linear-gradient(to right, transparent, rgba(0, 255, 136, 0.8))',
              transformOrigin: 'left center',
              boxShadow: '0 0 10px rgba(0, 255, 136, 0.6)',
              willChange: 'transform'
            }}
          />
          
          <div
            ref={textBottomCenterRef}
            style={{
              position: 'absolute',
              left: '50%',
              transform: 'translateX(-50%)',
              color: '#00ff88',
              fontSize: 'clamp(14px, 2vw, 24px)',
              fontFamily: "'Courier New', monospace",
              textShadow: '0 0 25px rgba(0, 255, 136, 0.8)',
              whiteSpace: 'nowrap',
              fontWeight: 'bold',
              letterSpacing: '2px',
              willChange: 'transform, opacity'
            }}
          >
            VIVAMUS SAGITTIS LACUS
          </div>
          
          <div
            ref={line2Ref}
            style={{
              position: 'absolute',
              right: '8%',
              top: '50%',
              width: '38%',
              height: '2px',
              background: 'linear-gradient(to left, transparent, rgba(0, 255, 136, 0.8))',
              transformOrigin: 'right center',
              boxShadow: '0 0 10px rgba(0, 255, 136, 0.6)',
              willChange: 'transform'
            }}
          />
        </div>

        <canvas
          ref={canvasRef}
          style={{
            position: 'absolute',
            top: 0,
            left: 0,
            width: '100%',
            height: '100%',
            pointerEvents: 'none',
            zIndex: 20,
            opacity: scrollProgress > 0.4 ? 1 : 0,
            transition: 'opacity 1s ease-out'
          }}
        />

        <div 
          style={{
            position: 'absolute',
            top: 0,
            left: 0,
            width: '100%',
            height: '100%',
            background: 'radial-gradient(ellipse at center 70%, transparent 25%, rgba(0, 20, 10, 0.7) 100%)',
            pointerEvents: 'none',
            zIndex: 5,
            opacity: scrollProgress < 0.9 ? 1 : 0,
            transition: 'opacity 1s'
          }} 
        />

        {scrollProgress < 0.05 && (
          <div 
            style={{
              position: 'absolute',
              bottom: '4%',
              right: '5%',
              color: '#00ff88',
              fontSize: '13px',
              fontFamily: "'Courier New', monospace",
              textShadow: '0 0 15px rgba(0, 255, 136, 0.8)',
              zIndex: 30,
              animation: 'pulseIndicator 2s ease-in-out infinite',
              letterSpacing: '2px'
            }}
          >
            ▼ SCROLL TO ENTER ▼
          </div>
        )}
      </div>

      {/* 2D ABOUT PAGE - Fades in at end */}
      <AboutPage2D visible={show2DAbout} />
    </>
  );
};

ReactDOM.createRoot(document.getElementById('root')).render(<MonolithPortal />);
</script>
</body>
</html>